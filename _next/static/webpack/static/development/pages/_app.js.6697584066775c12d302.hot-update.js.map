{"version":3,"file":"static/webpack/static/development/pages/_app.js.6697584066775c12d302.hot-update.js","sources":["webpack:///./components/CodePreview/CodePreview.tsx"],"sourcesContent":["import * as BigDesign from '@bigcommerce/big-design';\nimport * as BigDesignIcons from '@bigcommerce/big-design-icons';\nimport clipboardCopy from 'clipboard-copy';\nimport { Language } from 'prism-react-renderer';\nimport React, { useContext, useState } from 'react';\nimport { LiveEditor, LivePreview, LiveProvider } from 'react-live';\nimport styled from 'styled-components';\n\nimport { SnippetControls } from '../SnippetControls';\nimport { CodeEditorThemeContext } from '../StoryWrapper/StoryWrapper';\n\nimport { StyledLiveError } from './styled';\n\nconst defaultScope = {\n  ...BigDesign,\n  ...BigDesignIcons,\n  React,\n  styled,\n};\n\nfunction getInitialCode(children: React.ReactNode): string {\n  if (typeof children !== 'string') {\n    throw new Error('<CodePreview> children must be of type string');\n  }\n\n  return children;\n}\n\nexport interface CodePreviewProps {\n  scope?: { [key: string]: any };\n  language?: Language;\n}\n\nexport const CodePreview: React.FC<CodePreviewProps> = props => {\n  const { children, language } = props;\n  const initialCode = getInitialCode(children);\n  const [code, setCode] = useState(initialCode);\n  const { editorTheme } = useContext(CodeEditorThemeContext);\n  const scope = { ...defaultScope, ...props.scope };\n\n  return (\n    <BigDesign.Box border=\"box\" marginBottom=\"xxLarge\">\n      <LiveProvider\n        code={code}\n        scope={scope}\n        theme={editorTheme}\n        language={language}\n      >\n        <BigDesign.Box padding=\"medium\" backgroundColor=\"white\" borderBottom=\"box\">\n          <LivePreview />\n        </BigDesign.Box>\n        <SnippetControls copyToClipboard={() => clipboardCopy(code)} resetCode={() => setCode(initialCode)} />\n        <LiveEditor onChange={setCode} />\n        <StyledLiveError />\n      </LiveProvider>\n    </BigDesign.Box>\n  );\n};\n\nCodePreview.defaultProps = {\n  language: 'jsx',\n  scope: defaultScope,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AAAA;AAAA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AACA;AACA;AAFA;;;;A","sourceRoot":""}